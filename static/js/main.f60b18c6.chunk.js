(this.webpackJsonptweather=this.webpackJsonptweather||[]).push([[0],{341:function(e,t,n){},374:function(e,t,n){"use strict";n.r(t);var i=n(0),r=n.n(i),a=n(12),c=n.n(a),o=(n(341),n(38)),d=n.n(o),s=n(187),u=n(37),l=n(436),h=n(29),j=n(429),f=n(3),p=n(423),b=n(58),w=n(57),g=n(378),m=n(214),x=n.n(m),O=n(23),y=n(63),v=Object(y.b)({name:"ui",initialState:{width:window.innerWidth-56,height:window.innerHeight+72,sideBarExtendedWidth:240,sideBarCollapsedWidth:56,sideBarWidth:56,sideBarOpen:!1,headerHeight:72,selectedDate:"4/14/2021",selectedHour:5,selectedId:null,selectedPredicted:!1},reducers:{setWindowSize:{reducer:function(e,t){var n=t.payload,i=n.height,r=n.width;e.width=r,e.height=i},prepare:function(e,t){return{payload:{height:e,width:t}}}},openSideBar:{reducer:function(e,t){e.sideBarOpen=!0,e.width=window.innerWidth-e.sideBarExtendedWidth,e.sideBarWidth=e.sideBarExtendedWidth}},closeSideBar:{reducer:function(e,t){e.sideBarOpen=!1,e.width=window.innerWidth-e.sideBarCollapsedWidth,e.sideBarWidth=e.sideBarCollapsedWidth}},toggleSideBar:{reducer:function(e,t){var n=e.sideBarOpen;e.width=e.width=n?window.innerWidth-e.sideBarCollapsedWidth:window.innerWidth-e.sideBarExtendedWidth,e.sideBarWidth=n?e.sideBarCollapsedWidth:e.sideBarExtendedWidth,e.sideBarOpen=!n}},resizeWindow:{reducer:function(e,t){e.sideBarOpen?e.width=window.innerWidth-e.sideBarExtendedWidth:e.width=window.innerWidth-e.sideBarWidth}},setDatetime:{reducer:function(e,t){var n=t.payload,i=n.date,r=n.hour;e.selectedDate=i,e.selectedHour=r},prepare:function(e,t){return{payload:{date:e,hour:t}}}},setSelectedLocation:{reducer:function(e,t){var n=t.payload,i=n.id,r=n.isPredicted;e.selectedId=i,e.selectedPredicted=r},prepare:function(e,t){return{payload:{id:e,isPredicted:t}}}}}}),S=v.actions,D=(S.setWindowSize,S.openSideBar,S.closeSideBar),W=S.toggleSideBar,B=S.resizeWindow,C=S.setDatetime,k=S.setSelectedLocation,_=v.reducer,L=function(e){return{height:e.height,width:e.width,sideBarWidth:e.sideBarWidth,headerHeight:e.headerHeight}},N=function(e){return e.sideBarOpen},T=function(e){return e.selectedDate},H=function(e){return e.selectedHour},M=function(e){return{date:e.selectedDate,hour:e.selectedHour}},I=n(189),E=n(419),z=n(22),F=n(438),A=n(5),P=n(4),J=Object(w.a)((function(e){return{text:{color:"white"}}})),V=Object(A.a)({root:{color:"#FFFFFF"}})(E.a),q={setDatetime:C},Y=Object(O.b)((function(e){return{hour:H(e.ui),date:T(e.ui)}}),q)((function(e){var t=e.hour,n=e.date,i=e.setDatetime,r=new Date("2021-04-12"),a=new Date("2021-04-17"),c=J(),o=new Date(n);o.setHours(t);var d=new Date(n);d.setDate(d.getDate());return Object(P.jsx)("div",{style:{display:"flex",justifyContent:"flex-end"},children:Object(P.jsxs)(z.a,{utils:I.a,children:[Object(P.jsx)(V,{disableToolbar:!0,variant:"inline",format:"MM/dd/yyyy",margin:"normal",id:"date-picker-inline",label:"Select date",minDate:r,maxDate:a,value:d,onChange:function(e){var n=e.getDate(),r=e.getMonth()+1,a=e.getFullYear(),c="";c+=r.toString()+"/",n<10&&(c+="0"),c+=n.toString()+"/",c+=a.toString(),i(c,t)},KeyboardButtonProps:{"aria-label":"change date",className:c.text},inputProps:{className:c.text},InputLabelProps:{className:c.text}}),Object(P.jsx)(F.a,{margin:"normal",id:"time-picker",variant:"inline",label:"Select time",value:o,onChange:function(e){var t=e.getHours();i(n,t)},views:["hours"],KeyboardButtonProps:{"aria-label":"change time",className:c.text},inputProps:{className:c.text},InputLabelProps:{className:c.text}})]})})})),R=n(208),K=n(35),G=n(439),X=n(424),Q=n(425),U=n(210),Z=n.n(U),$=n(209),ee=n.n($),te=n(426),ne=n(427),ie=n(428),re=n(213),ae=n.n(re),ce=n(211),oe=n.n(ce),de=n(212),se=n.n(de),ue=n(67),le=Object(w.a)((function(e){return{root:{display:"flex"},menuButton:{marginRight:36},drawer:{width:240,flexShrink:0,whiteSpace:"nowrap"},drawerOpen:{width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerClose:Object(h.a)({transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:e.spacing(7)+1},e.breakpoints.up("sm"),{width:e.spacing(9)+1}),toolbar:Object(R.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:e.spacing(0,1),height:"72px"},e.mixins.toolbar)}})),he={closeSideBar:D},je=Object(O.b)((function(e){return{datetime:M(e.ui),open:N(e.ui)}}),he)((function(e){e.datetime;var t,n,r=e.open,a=e.closeSideBar,c=le(),o=Object(K.a)(),d=Object(i.useState)(null),s=Object(u.a)(d,2),l=s[0],j=s[1];return Object(P.jsx)("div",{className:c.root,children:Object(P.jsxs)(G.a,{variant:"permanent",className:Object(f.a)(c.drawer,(t={},Object(h.a)(t,c.drawerOpen,r),Object(h.a)(t,c.drawerClose,!r),t)),classes:{paper:Object(f.a)((n={},Object(h.a)(n,c.drawerOpen,r),Object(h.a)(n,c.drawerClose,!r),n))},children:[Object(P.jsx)("div",{className:c.toolbar,children:Object(P.jsx)(g.a,{onClick:a,children:"rtl"===o.direction?Object(P.jsx)(ee.a,{}):Object(P.jsx)(Z.a,{})})}),Object(P.jsx)(Q.a,{}),Object(P.jsxs)(X.a,{children:[Object(P.jsx)(ue.b,{to:"/weather/predictions/",style:{textDecoration:"none",color:"black"},children:Object(P.jsxs)(te.a,{button:!0,selected:"prediction"===l,onClick:function(){j("prediction")},children:[Object(P.jsx)(ne.a,{children:Object(P.jsx)(oe.a,{})}),Object(P.jsx)(ie.a,{primary:"View Predictions"})]},"View Predictions")}),Object(P.jsx)(ue.b,{to:"/weather/actual/",style:{textDecoration:"none",color:"black"},children:Object(P.jsxs)(te.a,{button:!0,selected:"actual"===l,onClick:function(){j("actual")},children:[Object(P.jsx)(ne.a,{children:Object(P.jsx)(se.a,{})}),Object(P.jsx)(ie.a,{primary:"View Actual"})]},"View Actual")}),Object(P.jsx)(ue.b,{to:"/weather/comparison/",style:{textDecoration:"none",color:"black"},children:Object(P.jsxs)(te.a,{button:!0,selected:"comparison"===l,onClick:function(){j("comparison")},children:[Object(P.jsx)(ne.a,{children:Object(P.jsx)(ae.a,{})}),Object(P.jsx)(ie.a,{primary:"View Comparison"})]},"View Comparison")})]})]})})})),fe=Object(w.a)((function(e){return{root:{display:"flex"},appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},title:{flexGrow:1},text:{color:"white"}}})),pe={toggleSideBar:W},be=Object(O.b)((function(e){return{open:N(e.ui)}}),pe)((function(e){var t=e.open,n=e.toggleSideBar,i=fe();return Object(P.jsxs)("div",{className:i.root,children:[Object(P.jsx)(j.a,{position:"fixed",color:"primary",className:Object(f.a)(i.appBar,Object(h.a)({},i.appBarShift,t)),children:Object(P.jsxs)(p.a,{children:[Object(P.jsx)(g.a,{onClick:function(){n()},edge:"start",className:Object(f.a)(i.menuButton,Object(h.a)({},i.hide,t)),color:"inherit","aria-label":"menu",children:Object(P.jsx)(x.a,{})}),Object(P.jsx)(b.a,{variant:"h6",className:i.title,children:"Tweather"}),Object(P.jsx)(Y,{})]})}),Object(P.jsx)(je,{})]})})),we=n(437),ge=n(421),me=n(97),xe=(n(372),function(e){return e.weather.loading_queue.length>0}),Oe=Object(me.a)([function(e){return e.weather.loading_queue}],(function(e){return e.filter((function(e){return"fetching chart data"===e})).length>0})),ye=(Object(me.a)([function(e){return e.data},function(e,t){return t}],(function(e,t){return Object.values(e).filter((function(e){return e.date===t}))})),Object(me.a)([function(e){return e.weather.data},function(e){return e.ui.selectedDate},function(e){return e.ui.selectedHour}],(function(e,t,n){return Object.values(e).filter((function(e){return e.date===t})).filter((function(e){return e.hour===n}))}))),ve=function(e){if(e.ui.selectedId){var t=Object.values(e.weather.data).filter((function(t){return t.id===e.ui.selectedId}))[0].city;return Object.values(e.weather.data).filter((function(e){return e.city===t}))}return[]},Se=function(e){return e.ui.selectedId?Object.values(e.weather.data).filter((function(t){return t.id===e.ui.selectedId}))[0].city:""},De=n(15),We=n(84),Be={display:"flex",justifyContent:"center",alignItems:"center",height:"100%",width:"100%",padding:0,margin:0,minHeight:"100%"},Ce=function(e){var t=e.type,n=e.data;return Object(i.useEffect)((function(){return function(){De.l("#modalChartSvg").remove();var e=10,i=80,r=60,a=60,c=window.innerWidth>600?600-a-i:window.innerWidth-a-i,o=window.innerHeight/2-e-r,d=function(e){var t=e.reduce((function(e,t){return t.date<e?t.date:e}),e[0].date),n=e.reduce((function(e,t){return t.hour<e?t.hour:e}),e[0].hour),i=e.reduce((function(e,t){return t.date>e?t.date:e}),e[0].date),r=e.reduce((function(e,t){return t.hour>e?t.hour:e}),e[0].hour),a=We(t);a.hour(n);var c=We(i);return c.hour(r),[a,c]}(n),s=function(e,t,n){for(var i=[],r=function(e){var t=e.format("MM/DD/YYYY").replace(/^0+/,""),r=Object.values(n).filter((function(e){return e.date===t})),a={accuracy:0,num_tweets:0,num_data_points:r.length};r.map((function(e){e.weather===e.predicted_weather&&(a.accuracy+=1),a.num_tweets+=e.num_tweets})),r.length>0&&(a.city=r[0].city,a.date=We(e)),a.accuracy=a.accuracy/a.num_data_points,i.push(a)},a=We(e);a.diff(t,"days")<=0;a.add(1,"days"))r(a);return i}(d[0],d[1],n),u=De.j().domain(De.c(s,(function(e){return e.date}))).range([0,c]),l=De.a().scale(u).tickFormat(De.m("%a")).ticks(5);if("Model Accuracy"===t)var h=De.i().domain([0,De.h(s,(function(e){return e.accuracy}))]).range([o,0]),j=De.b().scale(h).tickFormat(De.d(".0%")).ticks(10);else if("Number of Tweets"===t)h=De.i().domain([0,De.h(s,(function(e){return e.num_tweets}))]).range([o,0]),j=De.b().scale(h).ticks(10);var f=De.k("#modalChart").append("svg").attr("id","modalChartSvg").attr("width",c+a,+i).attr("height",o+e+r).append("g").attr("transform","translate("+a+","+e+")");f.append("g").call(j),f.append("g").attr("transform","translate(0,"+o+")").call(l).selectAll("text").style("text-anchor","end").attr("dx","-.8em").attr("dy","-.45em").attr("transform","rotate(-65)"),f.append("path").datum(s).attr("fill","none").attr("stroke","steelblue").attr("stroke-width",1.5).attr("d",De.g().x((function(e){return u(e.date)})).y((function(e){return"Model Accuracy"===t?h(e.accuracy):"Number of Tweets"===t?h(e.num_tweets):void 0}))),"Model Accuracy"===t?f.append("text").attr("transform","rotate(-90)").attr("y",0-a).attr("x",0-o/2).attr("dy","1em").style("text-anchor","middle").text("Model Accuracy"):"Number of Tweets"===t&&f.append("text").attr("transform","rotate(-90)").attr("y",0-a).attr("x",0-o/2).attr("dy","1em").style("text-anchor","middle").text("Number of Tweets")}(),function(){return De.l("#modalChartSvg").remove()}}),[t,n]),Object(P.jsx)("div",{children:Object(P.jsx)("div",{id:"modalChart",style:Be})})},ke=Object(w.a)((function(e){return{paper:{position:"absolute",width:window.innerWidth>600?600:window.innerWidth,backgroundColor:e.palette.background.paper,padding:e.spacing(2,4,3)}}})),_e=Object(O.b)((function(e){return{locationData:ve(e)}}),null)((function(e){var t,n=e.locationData,r=e.open,a=e.setShowingModal,c=Object(i.useState)(["Model Accuracy","Number of Tweets"]),o=Object(u.a)(c,2),d=o[0],s=(o[1],Object(i.useState)(0)),l=Object(u.a)(s,2),h=l[0],j=l[1],f=ke();return"undefined"!==typeof n?Object(P.jsx)("div",{children:Object(P.jsx)(we.a,{open:r,onClose:function(){a((function(e){return!e}))},"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",children:Object(P.jsxs)("div",{style:{top:"50%",left:"50%",transform:"translate(-50%, -50%)"},className:f.paper,children:[Object(P.jsxs)("h2",{style:{display:"flex",justifyContent:"center"},id:"simple-modal-title",children:["Analysis of ",null===(t=n[0])||void 0===t?void 0:t.city," Data"]}),Object(P.jsxs)("p",{style:{display:"flex",justifyContent:"center",textAlign:"center"},children:[Object(P.jsx)(ge.a,{color:"primary",style:{padding:0,marginRight:12},onClick:function(){j(h-1>=0?function(e){return e-1}:d.length-1)},children:"previous"}),d[h]," over Time",Object(P.jsx)(ge.a,{color:"primary",style:{padding:0},onClick:function(){h+1<d.length?j((function(e){return e+1})):j(0)},children:"Next"})," "]}),Object(P.jsx)(Ce,{type:d[h],data:n}),Object(P.jsx)("p",{style:{display:"flex",justifyContent:"center"},children:"Day"})]})})}):null})),Le=Object(y.b)({name:"weather",initialState:{selected:{},data:{},status:"idle",loading_queue:[]},reducers:{addWeatherDatum:{reducer:function(e,t){var n=t.payload,i=n.id,r=n.city,a=n.date,c=n.lat,o=n.lon,d=n.hour,s=n.num_tweets,u=n.weather,l=n.predicted_weather;e.data[i]={id:i,city:r,date:a,lat:c,lon:o,hour:d,num_tweets:s,weather:u,predicted_weather:l}},prepare:function(e,t,n,i,r,a,c,o,d){return{payload:{id:e,city:t,date:n,lat:i,lon:r,hour:a,num_tweets:c,weather:o,predicted_weather:d}}}},setStatus:{reducer:function(e,t){var n=t.payload.status;e.status=n},prepare:function(e){return{payload:{status:e}}}},addLoadingItem:{reducer:function(e,t){var n=t.payload.loading_item;e.loading_queue.push(n)},prepare:function(e){return{payload:{loading_item:e}}}},removeLoadingItem:{reducer:function(e,t){e.loading_queue.pop()}}}}),Ne=Le.actions,Te=Ne.addWeatherDatum,He=Ne.setStatus,Me=Ne.addLoadingItem,Ie=Ne.removeLoadingItem,Ee=Le.reducer,ze=n(21),Fe={display:"flex",justifyContent:"center",alignItems:"center",height:"100%",width:"100%",padding:0,margin:0,minHeight:"100%"},Ae=Object(O.b)((function(e){return{loading:xe(e)}}),null)((function(e){var t=e.loading,n=e.height,r=e.width,a=e.predicted,c=e.weatherData,o=e.geoJson,d=e.setSelectedLocation,s=e.setShowingModal;return Object(i.useEffect)((function(){var e={Clear:"\uf185",Clouds:"\uf6c4",Drizzle:"\uf73d",Haze:"\uf75f",Mist:"\uf773",Rain:"\uf740",Snow:"\uf2dc"};return function(){De.l("#svg"+a.toString()).remove();var t=De.k("#graph"+a.toString()).append("svg").attr("id","svg"+a.toString()).attr("width",r).attr("height",n);t.append("text").attr("x",r/2).attr("y",70).attr("text-anchor","middle").style("font-size","16px").style("text-decoration","underline").text(a?"Predicted Weather":"Actual Weather");var i=De.e().scale(r).translate([r/2,n/2]),u=De.f().projection(i);t.selectAll("path").data(o.features).enter().append("path").attr("d",u).attr("stroke","white").attr("fill",(function(e){return e.properties.NAME,"grey"})).attr("class",(function(e){return e.properties.name})),t.selectAll("g").data(c).enter().append("g").attr("transform",(function(e){return"translate("+i([e.lon,e.lat])+")"})).append("text").attr("text-anchor","middle").attr("dominant-baseline","central").attr("font-family","'Font Awesome 5 Free'").attr("font-size","12px").attr("class","fas fa-cloud-showers-heavy").attr("fill",(function(e){return e.weather===e.predicted_weather?"white":"red"})).attr("stroke","black").on("click",(function(e,t){d(t.id,a),s((function(e){return!e}))})).on("mouseover",(function(e){De.k(this).attr("font-size",18),De.k(this).style("cursor","pointer")})).on("mouseout",(function(e){De.k(this).attr("font-size",12),De.k(this).style("cursor","default")})).text((function(t){return a?e[t.predicted_weather]:e[t.weather]}))}(),function(){return De.l("#svg"+a.toString()).remove()}}),[t,n,r,a,o,c,d,s]),Object(P.jsx)("div",{children:Object(P.jsx)("div",{id:"graph"+a.toString(),style:Fe})})})),Pe=n(422),Je=n(431),Ve=n(435),qe=n(434),Ye=n(430),Re=n(432),Ke=n(433),Ge=n(376),Xe=function(e){var t=e>=12?"pm":"am";return(e=(e%=12)||12)+t},Qe=Object(w.a)({table:{},tableContainer:{maxHeight:function(e){return e.windowDimensions.height/2-2*e.windowDimensions.headerHeight-e.marginTop},height:function(e){return e.windowDimensions.height/2-2*e.windowDimensions.headerHeight},width:function(e){return e.windowDimensions.width-e.windowDimensions.sideBarWidth},maxWidth:function(e){return e.windowDimensions.width},marginLeft:function(e){return e.windowDimensions.sideBarWidth/2}},header:{position:"sticky"}}),Ue=Object(O.b)((function(e){return{weather:ye(e),windowDimensions:L(e.ui)}}),null)((function(e){var t=e.weather,n=e.windowDimensions,i=e.marginTop,r=Qe({windowDimensions:n,marginTop:i});return Object(P.jsx)(Ye.a,{className:r.tableContainer,component:Ge.a,children:Object(P.jsxs)(Je.a,{stickyHeader:!0,className:r.table,"aria-label":"sticky table",children:[Object(P.jsx)(Re.a,{children:Object(P.jsxs)(Ke.a,{children:[Object(P.jsx)(qe.a,{children:"Location"}),Object(P.jsx)(qe.a,{align:"right",children:"Date"}),Object(P.jsx)(qe.a,{align:"right",children:"Time"}),Object(P.jsx)(qe.a,{align:"right",children:"Actual Weather"}),Object(P.jsx)(qe.a,{align:"right",children:"Predicted Weather"}),Object(P.jsx)(qe.a,{align:"right",children:"Number of Tweets"})]})}),Object(P.jsx)(Ve.a,{children:t.map((function(e){return Object(P.jsxs)(Ke.a,{children:[Object(P.jsx)(qe.a,{component:"th",scope:"row",children:e.city}),Object(P.jsx)(qe.a,{align:"right",children:e.date}),Object(P.jsx)(qe.a,{align:"right",children:Xe(e.hour)}),Object(P.jsx)(qe.a,{align:"right",children:e.weather}),Object(P.jsx)(qe.a,{align:"right",children:e.predicted_weather}),Object(P.jsx)(qe.a,{align:"right",children:e.num_tweets})]},e.id)}))})]})})})),Ze={setSelectedLocation:k},$e=Object(O.b)((function(e,t){return{windowDimensions:L(e.ui),weather:ye(e),loading:xe(e)}}),Ze)((function(e){e.date;var t=e.windowDimensions,n=e.weather,r=e.loading,a=e.geoJson,c=e.setSelectedLocation,o=Object(i.useState)(!1),d=Object(u.a)(o,2),s=d[0],l=d[1];return null===n||r||null===a?Object(P.jsx)("div",{style:{marginTop:t.height/2,marginLeft:t.width/2},children:Object(P.jsx)(Pe.a,{})}):Object(P.jsxs)(P.Fragment,{children:[Object(P.jsxs)("div",{style:{marginTop:t.headerHeight,marginLeft:t.sideBarWidth},children:[Object(P.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"flex-end"},children:[Object(P.jsx)(Ae,{height:t.height/2,width:t.width/2,predicted:!0,weatherData:n,geoJson:a,setSelectedLocation:c,setShowingModal:l}),Object(P.jsx)(Ae,{height:t.height/2,width:t.width/2,predicted:!1,weatherData:n,geoJson:a,setSelectedLocation:c,setShowingModal:l})]}),Object(P.jsx)("p",{style:{display:"flex",justifyContent:"center"},children:"Weather that is different between actual and predicted marked in red"}),Object(P.jsx)(Ue,{marginTop:50})]}),Object(P.jsx)(_e,{open:s,setShowingModal:l})]})})),et={setSelectedLocation:k},tt=Object(O.b)((function(e,t){return{windowDimensions:L(e.ui),weatherData:ye(e),loading:Oe(e)}}),et)((function(e){var t=e.predicted,n=e.windowDimensions,r=e.weatherData,a=e.loading,c=e.geoJson,o=e.setSelectedLocation,d=Object(i.useState)(!1),s=Object(u.a)(d,2),l=s[0],h=s[1];return null===r||a||null===c?Object(P.jsx)("div",{style:{marginTop:n.height/2,marginLeft:n.width/2},children:Object(P.jsx)(Pe.a,{})}):Object(P.jsxs)(P.Fragment,{children:[Object(P.jsxs)("div",{style:{marginTop:n.headerHeight,marginLeft:n.sideBarWidth},children:[Object(P.jsx)(Ae,{height:n.height/2,width:n.width/2,predicted:t,weatherData:r,geoJson:c,setSelectedLocation:o,setShowingModal:h}),Object(P.jsx)(Ue,{})]}),Object(P.jsx)(_e,{open:l,setShowingModal:h})]})})),nt=function(e){var t=e.geoJson;return Object(P.jsx)("main",{children:Object(P.jsxs)(ze.c,{children:[Object(P.jsx)(ze.a,{exact:!0,path:"/weather/comparison/",render:function(e){return Object(P.jsx)($e,{geoJson:t})}}),Object(P.jsx)(ze.a,{exact:!0,path:"/weather/predictions/",render:function(e){return Object(P.jsx)(tt,{predicted:!0,geoJson:t})}}),Object(P.jsx)(ze.a,{exact:!0,path:"/weather/actual/",render:function(e){return Object(P.jsx)(tt,{predicted:!1,geoJson:t})}}),Object(P.jsx)(ze.a,{exact:!0,path:"/tweather/",render:function(){return Object(P.jsx)($e,{geoJson:t})}}),Object(P.jsx)(ze.a,{exact:!0,path:"/",render:function(){return Object(P.jsx)($e,{geoJson:t})}})]})})};var it={fetchWeather:function(e,t){return function(n){n(He("loading")),n(Me("fetching chart data")),fetch("https://tweather-api.herokuapp.com/datetime?date="+e+"&hour="+t).then((function(e){return e.json()})).then((function(e){return e.forEach((function(e){n(Te(e.id,e.city,e.date,e.lat,e.lon,e.hour,e.num_tweets,e.weather,e.predicted_weather))}))})).finally((function(){n(He("idle")),n(Ie())}))}},fetchCityWeather:function(e){return function(t){console.log(e),t(He("loading")),t(Me("fetching city weather")),fetch("https://tweather-api.herokuapp.com/city/"+e).then((function(e){return e.json()})).then((function(e){return e.forEach((function(e){t(Te(e.id,e.city,e.date,e.lat,e.lon,e.hour,e.num_tweets,e.weather,e.predicted_weather))}))})).finally((function(){t(He("idle")),t(Ie())}))}},resizeWindow:B},rt=Object(O.b)((function(e){return{date:M(e.ui).date,hour:M(e.ui).hour,selectedCity:Se(e)}}),it)((function(e){var t=e.date,n=e.hour,r=e.selectedCity,a=e.fetchWeather,c=e.fetchCityWeather,o=e.resizeWindow,h=Object(i.useState)(null),j=Object(u.a)(h,2),f=j[0],p=j[1],b=Object(i.useState)(!1),w=Object(u.a)(b,2),g=w[0],m=w[1];return Object(i.useEffect)((function(){(function(){var e=Object(s.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://tweather-api.herokuapp.com/geojson");case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,p(n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(i.useEffect)((function(){console.log("calling fetch weather"),a(t,n)}),[t,n,a]),Object(i.useEffect)((function(){c(r.replace(", ","_").replace(" ","_")),console.log("calling fetch city weather")}),[r,c]),Object(i.useEffect)((function(){var e;return window.addEventListener("resize",(function(){clearTimeout(e),e=setTimeout((function(){o()}),800)})),function(){return window.removeEventListener("resize",o)}}),[o]),Object(P.jsxs)("div",{children:[Object(P.jsx)(l.a,{}),Object(P.jsx)(be,{}),Object(P.jsx)(nt,{geoJson:f}),Object(P.jsx)(_e,{open:g,setShowingModal:m})]})})),at=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,442)).then((function(t){var n=t.getCLS,i=t.getFID,r=t.getFCP,a=t.getLCP,c=t.getTTFB;n(e),i(e),r(e),a(e),c(e)}))},ct=n(33),ot=Object(ct.c)({weather:Ee,ui:_}),dt=Object(y.a)({reducer:ot});c.a.render(Object(P.jsx)(r.a.StrictMode,{children:Object(P.jsx)(O.a,{store:dt,children:Object(P.jsx)(ue.a,{children:Object(P.jsx)(rt,{})})})}),document.getElementById("root")),at()}},[[374,1,2]]]);
//# sourceMappingURL=main.f60b18c6.chunk.js.map